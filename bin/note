#!/usr/bin/env bash
set -Eeuo pipefail # https://vaneyckt.io/posts/safer_bash_scripts_with_set_euxo_pipefail

# ------------------------------------------------------------------------------
# --- Take a note --------------------------------------------------------------
# ------------------------------------------------------------------------------

filename=~/Sync/notes/notes.md

if [ ! -f "$filename" ]; then
  currenttime=$(date '+%FT%T')
  touch "$filename"
  tmpl="---\ncreated: \"$currenttime\"\nmodified: \"$currenttime\"\ntitle: \"Notes\"\ntags: \n  - \"note\"\n---\n"
  echo -en "$tmpl" > $filename
fi

currentdate=$(date '+%F')
echo -e "\n---\n\n## $currentdate\n\n" >> $filename
nvim +$ "$filename"
