#!/usr/bin/env bash
set -Eeuo pipefail # https://vaneyckt.io/posts/safer_bash_scripts_with_set_euxo_pipefail

# ------------------------------------------------------------------------------
# --- Add incredients of a recipe to grocery list ------------------------------
# ------------------------------------------------------------------------------

syncdir="$HOME/Sync/notes"
recipedir="$HOME/Documents/local-notes/recipes"
grocerytodopath="$syncdir/todo/groceries.md"
file=$(ls "$recipedir" | rofi -dmenu -i -p "What would you like to add to the grocery list?")
sed -n '/```{ingredients}/, /```/p' $recipedir/$file | sed '1d;$d' >> $syncdir/todo/groceries.md
