#!/usr/bin/env bash

# ------------------------------------------------------------------------------
# --- Create a new recipe ------------------------------------------------------
# ------------------------------------------------------------------------------

echo "Enter a title for your recipe:"
read -p "(title) " title
current_time=$(date '+%FT%T')
current_date=$(date '+%F')
filename=~/Sync/notes/recipes/$(echo $title | sed -E 's/[^a-zA-Z0-9]+/-/g' | sed 's/[A-Z]/\L&/g').md
if [ ! -f "$filename" ]; then
  touch "$filename"
  tmpl="---\ncreated: \"$current_time\"\nmodified: \"$current_time\"\ntitle: \"$title\"\ntags:\n  - \"recipe\"\n---\n\n\`\`\`{ingredients}\n\`\`\`\n"
  echo -en "$tmpl" > $filename
fi
nvim "$filename"
